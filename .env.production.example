# ═══════════════════════════════════════════════════════════════════════════════
# Zeru — Production Environment Template
# Copy to /opt/zeru/.env.production on the server, then fill in real values.
#
# Generate secrets:
#   openssl rand -hex 32   → for JWT_SECRET and ENCRYPTION_KEY
#   openssl rand -hex 20   → for NEXT_PUBLIC_REGISTER_TOKEN
# ═══════════════════════════════════════════════════════════════════════════════

# ── Database ──────────────────────────────────────────────────────────────────
# Uses Docker service name "postgres" as host (resolved via zeru-infra network)
DATABASE_URL=postgresql://zeru:CHANGE_ME@postgres:5432/zeru
POSTGRES_USER=zeru
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_DB=zeru

# ── Cache ─────────────────────────────────────────────────────────────────────
REDIS_URL=redis://redis:6379

# ── Auth ──────────────────────────────────────────────────────────────────────
# Generate: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_generate_with_openssl_rand_hex_32
JWT_EXPIRATION=7d
# Generate: openssl rand -hex 32
ENCRYPTION_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32

# ── App ───────────────────────────────────────────────────────────────────────
NODE_ENV=production
# Internal port used by the NestJS app inside the container (always 3000)
API_PORT=3000
# Public-facing domain used for CORS (must match your domain + protocol)
CORS_ORIGIN=https://your-domain.com
# Full URL of the API as seen from the browser
NEXT_PUBLIC_API_URL=https://your-domain.com/api
# Registration invite token — share with initial users
# Generate: openssl rand -hex 20
NEXT_PUBLIC_REGISTER_TOKEN=CHANGE_ME_generate_with_openssl_rand_hex_20
